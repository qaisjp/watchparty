{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import'./index.css';import'semantic-ui-css/semantic.min.css';import React,{lazy,Suspense}from'react';import ReactDOM from'react-dom';import{BrowserRouter,Route}from'react-router-dom';import App from'./components/App';import{Home}from'./components/Home';import{Privacy,Terms,FAQ}from'./components/PrivacyTerms/PrivacyTerms';import{TopBar}from'./components/TopBar/TopBar';import{Footer}from'./components/Footer/Footer';import*as serviceWorker from'./serviceWorker';import firebase from'firebase/app';import'firebase/auth';var Debug=/*#__PURE__*/lazy(function(){return import('./components/Debug/Debug');});var firebaseConfig=process.env.REACT_APP_FIREBASE_CONFIG;if(firebaseConfig){firebase.initializeApp(JSON.parse(firebaseConfig));}var WatchParty=/*#__PURE__*/function(_React$Component){_inherits(WatchParty,_React$Component);var _super=_createSuper(WatchParty);function WatchParty(){var _this;_classCallCheck(this,WatchParty);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:undefined};return _this;}_createClass(WatchParty,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(firebaseConfig){firebase.auth().onAuthStateChanged(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(user){// console.log(user);\n_this2.setState({user:user});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}case 1:case\"end\":return _context2.stop();}}},_callee2);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(props){var _props$location;if((_props$location=props.location)===null||_props$location===void 0?void 0:_props$location.hash){return/*#__PURE__*/_jsx(App,{user:_this3.state.user});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(TopBar,{user:_this3.state.user,hideNewRoom:true}),/*#__PURE__*/_jsx(Home,{}),/*#__PURE__*/_jsx(Footer,{})]});}}),/*#__PURE__*/_jsx(Route,{path:\"/r/:vanity\",exact:true,render:function render(props){return/*#__PURE__*/_jsx(App,{user:_this3.state.user,vanity:props.match.params.vanity});}}),/*#__PURE__*/_jsxs(Route,{path:\"/terms\",children:[/*#__PURE__*/_jsx(TopBar,{user:this.state.user}),/*#__PURE__*/_jsx(Terms,{}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsxs(Route,{path:\"/privacy\",children:[/*#__PURE__*/_jsx(TopBar,{user:this.state.user}),/*#__PURE__*/_jsx(Privacy,{}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsxs(Route,{path:\"/faq\",children:[/*#__PURE__*/_jsx(TopBar,{user:this.state.user}),/*#__PURE__*/_jsx(FAQ,{}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsxs(Route,{path:\"/debug\",children:[/*#__PURE__*/_jsx(TopBar,{user:this.state.user}),/*#__PURE__*/_jsx(Suspense,{fallback:null,children:/*#__PURE__*/_jsx(Debug,{})}),/*#__PURE__*/_jsx(Footer,{})]})]})});}}]);return WatchParty;}(React.Component);ReactDOM.render(/*#__PURE__*/_jsx(WatchParty,{}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","map":{"version":3,"sources":["/home/runner/work/watchparty/watchparty/src/index.tsx"],"names":["React","lazy","Suspense","ReactDOM","BrowserRouter","Route","App","Home","Privacy","Terms","FAQ","TopBar","Footer","serviceWorker","firebase","Debug","firebaseConfig","process","env","REACT_APP_FIREBASE_CONFIG","initializeApp","JSON","parse","WatchParty","state","user","undefined","auth","onAuthStateChanged","setState","props","location","hash","match","params","vanity","Component","render","document","getElementById","unregister"],"mappings":"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","sourcesContent":["import './index.css';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport React, { lazy, Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport App from './components/App';\nimport { Home } from './components/Home';\nimport { Privacy, Terms, FAQ } from './components/PrivacyTerms/PrivacyTerms';\nimport { TopBar } from './components/TopBar/TopBar';\nimport { Footer } from './components/Footer/Footer';\nimport * as serviceWorker from './serviceWorker';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\n\nconst Debug = lazy(() => import('./components/Debug/Debug'));\n\nconst firebaseConfig = process.env.REACT_APP_FIREBASE_CONFIG;\nif (firebaseConfig) {\n  firebase.initializeApp(JSON.parse(firebaseConfig));\n}\n\nclass WatchParty extends React.Component {\n  public state = {\n    user: undefined,\n  };\n  async componentDidMount() {\n    if (firebaseConfig) {\n      firebase.auth().onAuthStateChanged(async (user: firebase.User | null) => {\n        if (user) {\n          // console.log(user);\n          this.setState({ user });\n        }\n      });\n    }\n  }\n  render() {\n    return (\n      <React.StrictMode>\n        <BrowserRouter>\n          <Route\n            path=\"/\"\n            exact\n            render={(props) => {\n              if (props.location?.hash) {\n                return <App user={this.state.user} />;\n              }\n              return (\n                <React.Fragment>\n                  <TopBar user={this.state.user} hideNewRoom />\n                  <Home />\n                  <Footer />\n                </React.Fragment>\n              );\n            }}\n          />\n          <Route\n            path=\"/r/:vanity\"\n            exact\n            render={(props) => {\n              return (\n                <App\n                  user={this.state.user}\n                  vanity={props.match.params.vanity}\n                />\n              );\n            }}\n          />\n          <Route path=\"/terms\">\n            <TopBar user={this.state.user} />\n            <Terms />\n            <Footer />\n          </Route>\n          <Route path=\"/privacy\">\n            <TopBar user={this.state.user} />\n            <Privacy />\n            <Footer />\n          </Route>\n          <Route path=\"/faq\">\n            <TopBar user={this.state.user} />\n            <FAQ />\n            <Footer />\n          </Route>\n          <Route path=\"/debug\">\n            <TopBar user={this.state.user} />\n            <Suspense fallback={null}>\n              <Debug />\n            </Suspense>\n            <Footer />\n          </Route>\n        </BrowserRouter>\n      </React.StrictMode>\n    );\n  }\n}\nReactDOM.render(<WatchParty />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}